<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>entry form</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Page Background Animation */
    body {
      background: linear-gradient(270deg, #6366f1, #a855f7, #ec4899);
      background-size: 600% 600%;
      animation: moveBg 15s ease-in-out infinite alternate;
      transition: background 0.5s ease-in-out, color 0.5s ease-in-out;
    }
    @keyframes moveBg {
      0%   { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }
    /* Animated RGB border */
    .rgb-border {
      position: relative;
      border-radius: 1rem;
      padding: 2px;
      background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet, red);
      background-size: 400% 400%;
      animation: rgbMove 8s linear infinite;
    }
    .rgb-border-inner {
      border-radius: 0.9rem;
      background: linear-gradient(to bottom right, #fdfbfb, #ebedee);
      padding: 2rem;
      transition: background 0.5s ease-in-out, color 0.5s ease-in-out;
    }
    @keyframes rgbMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    /* Dark mode styles */
    body.dark {
      background: linear-gradient(270deg, #0f172a, #1e293b, #334155);
    }
    body.dark .rgb-border-inner {
      background: rgba(30, 41, 59, 0.9);
      color: white;
    }
    body.dark label { color: #e2e8f0; }
    body.dark input { background: #1e293b; color: white; border-color: #475569; }
    body.dark footer { color: #cbd5e1; }

    /* Hourglass flip animation */
    .flip { display: inline-block; transition: transform 0.6s ease-in-out; }
    .flipped { transform: rotate(180deg); }

    /* Success message */
    .success-message { display: none; margin-top: 1rem; text-align: center; font-size: 1.2rem; color: green; font-weight: bold; }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen">

  <!-- Theme Toggle Button -->
  <button id="theme-toggle" 
          class="absolute top-6 right-6 px-4 py-2 rounded-lg bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-semibold shadow-md hover:opacity-90 transition">
    üåô Dark Mode
  </button>

  <div class="rgb-border w-full max-w-lg shadow-2xl">
    <div class="rgb-border-inner">
      <h1 class="text-3xl font-bold text-center mb-6">Welcome to my Info</h1>

      <form id="contact-form" 
            action="https://script.google.com/macros/s/AKfycbyMOB0eseC-ZWS8LlQIgGC2KycjHVS7Pbj6g4ujK_Wix0sQT6gmqj5rKMot2q-YP4PbEA/exec" 
            method="POST" class="space-y-4">
        
        <div>
          <label class="block mb-1">Full Name</label>
          <input type="text" id="name" name="name" required 
                 class="w-full px-4 py-2 border rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-purple-400 outline-none" />
        </div>

        <div>
          <label class="block mb-1">Email</label>
          <input type="email" id="email" name="email" required 
                 class="w-full px-4 py-2 border rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-purple-400 outline-none" />
        </div>

        <div>
          <label class="block mb-1">Phone Number (Optional)</label>
          <input type="tel" id="phone" name="phone" 
                 class="w-full px-4 py-2 border rounded-lg bg-white text-gray-800 focus:ring-2 focus:ring-purple-400 outline-none" 
                 placeholder="+91 98765 43210" />
        </div>

        <!-- Hidden Timestamp -->
        <input type="hidden" id="timestamp" name="timestamp">

        <!-- Checkbox -->
        <div class="flex items-center space-x-2">
          <input type="checkbox" id="terms" required 
                 class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500" />
          <label for="terms" class="text-sm text-gray-700">I agree to the terms & conditions</label>
        </div>

        <!-- Gradient Button -->
        <button type="submit" 
                class="w-full bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:opacity-90 transition">
          Submit
        </button>
      </form>

      <!-- Success message -->
      <div id="success-message" class="success-message">
        ‚úÖ Your data is stored successfully! Redirecting...
      </div>

      <p class="text-center text-gray-600 text-sm mt-4">
        Or email us directly at 
        <a href="mailto:praveenrajsamaraji2005@gmail.com" class="text-purple-600 font-medium">praveenrajsamaraji2005@gmail.com</a>
      </p>
    </div>
  </div>

  <!-- Date & Time -->
  <div id="datetime" class="mt-4 text-lg font-semibold text-gray-800 dark:text-gray-200"></div>

  <!-- Footer -->
  <footer class="mt-6 text-white text-sm text-center drop-shadow-md">
    ¬© praveenraj 2025. All rights reserved.
  </footer>

  <script>
    // Theme toggle
    const toggleBtn = document.getElementById("theme-toggle");
    const body = document.body;
    toggleBtn.addEventListener("click", () => {
      body.classList.toggle("dark");
      if (body.classList.contains("dark")) {
        toggleBtn.textContent = "‚òÄÔ∏è Light Mode";
        toggleBtn.classList.remove("from-yellow-400", "to-orange-500");
        toggleBtn.classList.add("from-blue-500", "to-purple-600");
      } else {
        toggleBtn.textContent = "üåô Dark Mode";
        toggleBtn.classList.remove("from-blue-500", "to-purple-600");
        toggleBtn.classList.add("from-yellow-400", "to-orange-500");
      }
    });

    // Date & Time
    function updateDateTime() {
      const now = new Date();
      const dateString = now.toLocaleDateString("en-GB", { day: "numeric", month: "long", year: "numeric" });
      const timeString = now.toLocaleTimeString("en-US", { hour12: true });
      document.getElementById("datetime").textContent = "üìÖ " + dateString + " | ‚è∞ " + timeString;
    }
    setInterval(updateDateTime, 1000);
    updateDateTime();

    // Form timer 5 minutes
    let timeLeft = 300;
    const form = document.getElementById("contact-form");
    const submitBtn = form.querySelector("button[type='submit']");
    const timerBox = document.createElement("div");
    timerBox.className = "mt-2 text-red-600 font-semibold text-center text-lg flex items-center justify-center gap-2";
    timerBox.innerHTML = `<span id="hourglass" class="flip">‚è≥</span> <span id="timer-text"></span>`;
    form.parentNode.insertBefore(timerBox, form);
    const hourglass = document.getElementById("hourglass");
    const timerText = document.getElementById("timer-text");

    function updateTimer() {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      timerText.textContent = `Form will expire in ${minutes}:${seconds.toString().padStart(2,"0")}`;
      if (timeLeft % 5 === 0) hourglass.classList.toggle("flipped");
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        submitBtn.disabled = true;
        submitBtn.classList.add("opacity-50", "cursor-not-allowed");
        timerText.textContent = "‚ö†Ô∏è Form expired! Please refresh the page to try again.";
        alert("‚ö†Ô∏è Time is up! The form has expired.");
      }
      timeLeft--;
    }
    const timerInterval = setInterval(updateTimer, 1000);
    updateTimer();

    // Set timestamp before submission and show success message
    form.addEventListener("submit", function(e){
      document.getElementById("timestamp").value = new Date().toISOString();
      const successMsg = document.getElementById("success-message");
      successMsg.style.display = "block";
      
    });
  </script>
</body>
</html>
